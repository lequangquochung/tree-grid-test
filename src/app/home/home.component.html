<div class="p-1">
  <ejs-treegrid
    *ngIf="!isLoading"
    #grid
    [height]="gridBodyHeight"
    [columns]="columns"
    [dataSource]="data"
    [contextMenuItems]="contextMenuItems"
    [toolbar]="toolbarOptions"
    [filterSettings]="filterSettings"
    [pageSettings]="pageSettings"
    [selectionSettings]="multiSelect"
    [infiniteScrollSettings]="infiniteOptions"
    [enableInfiniteScrolling]="true"
    [allowRowDragAndDrop]="isDropMode"
    [allowReordering]="true"
    [allowSelection]="true"
    [allowResizing]="true"
    [allowFiltering]="toggleFilter"
    [allowSorting]="true"
    [allowMultiSorting]="toggleMultiSorting"
    [treeColumnIndex]="getTreeColumnIndex()"
    [childMapping]="'subtasks'"
    [frozenColumns]="getFrozenColumnIndex()"
    [showColumnChooser]="true"
    (rowDataBound)="rowBound($event)"
    (actionBegin)="actionBegin($event)"
    (actionComplete)="actionComplete($event)"
    (contextMenuClick)="contextMenuClick($event)"
    (contextMenuOpen)="contextMenuOpen($event)"
    [showColumnChooser]="true"
  >
  </ejs-treegrid>
  <div class="loading" *ngIf="isLoading">
    <div class="spinner-border" role="status"></div>
  </div>
</div>
